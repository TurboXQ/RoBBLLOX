!function(){var e={4935:function(e,t,r){var o={"./appBumperConstants.js":1596};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=4935},8867:function(e,t,r){var o={"./appBumperController.js":5178};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=8867},7180:function(e,t,r){var o={"./appBumperDirective.js":1829};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=7180},5690:function(e,t,r){var o={"./appBumperService.js":9781};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=5690},4743:function(e,t,r){var o={"./directives/templates/appBumper.html":4694};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=4743},7525:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function r(e){return e.split("/").pop().replace(".html","")}var o={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,o,n,a){return e.module(o,[]).run(["$templateCache",function(e){n&&n.keys().forEach((function(o){var a=t(r(o));e.put(a,n(o))})),a&&a.keys().forEach((function(o){var n=t(r(o));e.put(n,a(o).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=o},5211:function(e,t,r){"use strict";var o=r(7577),n=r(127),a=r.n(n)().module("appBumper",["robloxApp","modal","appBumperAppTemplates"]).config(["$compileProvider","languageResourceProvider",function(e,t){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|intent|robloxmobile):/);var r=(new o.TranslationResourceProvider).getTranslationResource("Feature.DownloadApp");t.setTranslationResources([r])}]);t.A=a},1596:function(e,t,r){"use strict";r.r(t);var o={layout:{appIconUrl:"",isVisible:!1,hasFocus:!0},mobileExperimentLayer:"Website.MobileLandingPage",robuxUpsellExperimentVariants:{control:"default",variantA:"robux_upsell",variantB:"robux_upsell_with_background"},upgradeRobuxUrlPath:"/upgrades/robux",upgradePaymentMethodsUrlPath:"/upgrades/paymentmethods",upgradeRedeemUrlPath:"/upgrades/redeem",pageData:{appDownloadLink:"",osType:"",linkToFollow:""},pageElements:{footerClass:"app-bumper-exists"},localStorage:{storeKey:"mobileBumperLastSeen"},osTypes:{android:"Android",ios:"iOS"},iosUrl:"robloxmobile://",dismissTimeMs:864e5,templates:{appBumper:"app-bumper"}};r(5211).A.constant("appBumperConstants",o),t.default=o},5178:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var o=r(5211),n=".container-footer";function a(e,t,r,o,a,i,p,s,u){t.pageData=angular.extend({},a.pageData),t.layout=angular.extend({},a.layout),t.osTypes=a.osTypes,t.getOSClass=function(){return t.pageData.osType===t.osTypes.ios?"size-800 app-icon-ios":"size-800 app-icon-android"},t.closeBumper=function(){var e;t.layout.isVisible=!1,i.logBumperClosed(),e=a.pageElements.footerClass,$(n).removeClass(e)},t.handleIosLink=function(){u.sendEventWithTarget("appBumperButtonClick","click",{btn:"appBumper"}),t.pageData.osType===t.osTypes.ios&&r((function(){t.layout.hasFocus&&(o.location.href=t.pageData.appDownloadLink)}),500)},t.init=function(){var r,o=i.getMetaData();e.debug("bumper data",o),t.pageData.bumperDismissTimeMs=o.bumperDismissTimeMs,i.shouldShowBumper(t.pageData.bumperDismissTimeMs)&&(t.layout.appIconUrl=o.appIconUrl,t.pageData.appDownloadLink=o.appDownloadLink,t.pageData.osType=o.osType,t.pageData.linkToFollow=t.pageData.appDownloadLink,o.osType===t.osTypes.ios?(t.pageData.linkToFollow=a.iosUrl,t.pageData.textToShow=s.get("Message.AppBumpIOSDevice")):t.pageData.textToShow=s.get("Message.AppBumpAndroidDevice"),r=a.pageElements.footerClass,$(n).addClass(r),t.layout.isVisible=!0)},t.init()}a.$inject=["$log","$scope","$timeout","$window","appBumperConstants","appBumperService","urlService","languageResource","eventStreamService"],o.A.controller("appBumperController",a);var i=a},1829:function(e,t,r){"use strict";r.r(t);var o=r(5211);function n(e,t){return{restrict:"A",replace:!0,scope:!0,templateUrl:e.templates.appBumper,link:function(e){var r="input[type=text], input[type=password], input[type=textarea]";t.on("focus.robloxAppBumper",r,(function(){e.$apply(e.closeBumper()),t.off("focus.robloxAppBumper",r)}))}}}n.$inject=["appBumperConstants","$document"],o.A.directive("appBumper",n),t.default=o.A},9781:function(e,t,r){"use strict";r.r(t);var o=r(5211),n=r(7577);function a(e,t,r,o){return{getMetaData:function(){var t,r;return(0,n.DeviceMeta)().isIosDevice?(r=n.EnvironmentUrls.appStoreLink,t=e.osTypes.ios):(r=n.EnvironmentUrls.googlePlayStoreLink,t=e.osTypes.android),{appDownloadLink:r,osType:t,bumperDismissTimeMs:e.dismissTimeMs}},logBumperClosed:function(){var t=new Date;r.setLocalStorage(e.localStorage.storeKey,{timeInMs:t.valueOf()})},shouldShowBumper:function(t){var o=r.getLocalStorage(e.localStorage.storeKey);if(o&&o.timeInMs){var n=new Date(o.timeInMs),a=(new Date).valueOf()-n.valueOf(),i=t||864e5;return Math.floor(a/i)>=1}return!0}}}a.$inject=["appBumperConstants","httpService","localStorageService","urlService"],o.A.factory("appBumperService",a),t.default=a},4694:function(e){e.exports='<ng-container ng-modules="robloxApp, appBumper" ng-controller="appBumperController" ng-cloak> <div class="app-bumper-container" ng-if="layout.isVisible" ng-blur="layout.hasFocus = false"> <div class="close-btn icon-close-16x16 section-block" ng-click="closeBumper()"> </div> <div class="app-logo section-block"> <div class="app-icon app-icon-bluebg" ng-class="getOSClass()"></div> </div> <div class="app-motto-container section-block"> <div class="motto-primary small">{{pageData.textToShow}}</div> <div class="xsmall">{{ "Message.AppBumperUpsell" | translate }}</div> </div> <div class="play-btn"> <a ng-href="{{pageData.linkToFollow}}" ng-click="handleIosLink()" class="continue-in-app btn-primary-md btn-growth-md"> {{ "Action.Play" | translate }} </a> </div> </div> </ng-container> '},7577:function(e){"use strict";e.exports=Roblox},127:function(e){"use strict";e.exports=angular}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=r(127),t=r.n(e),o=r(7577),n=r(7525),a=r(1596),i=r(5211),p=[a.default.upgradeRobuxUrlPath,a.default.upgradePaymentMethodsUrlPath,a.default.upgradeRedeemUrlPath];(0,n.importFilesUnderPath)(r(4935)),(0,n.importFilesUnderPath)(r(5690)),(0,n.importFilesUnderPath)(r(8867)),(0,n.importFilesUnderPath)(r(7180));var s=r(4743),u=(0,n.templateCacheGenerator)(t(),"appBumperAppTemplates",s),l=document.getElementById("app-bumper-main");l.setAttribute("app-bumper","");var c=function(){t().element((function(){t().bootstrap(l,[i.A.name,u.name])}))};p.some((function(e){return window.location.href.includes(e)}))&&null!==o.ExperimentationService&&void 0!==o.ExperimentationService&&o.ExperimentationService.getAllValuesForLayer?o.ExperimentationService.getAllValuesForLayer(a.default.mobileExperimentLayer).then((function(e){switch(e.LandingPageType){case a.default.robuxUpsellExperimentVariants.variantA:case a.default.robuxUpsellExperimentVariants.variantB:return;case a.default.robuxUpsellExperimentVariants.control:default:c()}})):c()}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/a738a731b986413ea0d51eeb0e4747b5-appBumper.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AppBumper");